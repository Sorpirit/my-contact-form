{"version":3,"sources":["App.js","index.js"],"names":["App","useState","response","setResponse","failed","setFailed","sendingForm","setSendingForm","captchaKey","setCaptchaKey","name","setName","email","setEmail","message","setMessage","requests","setRequests","now","Date","length","slice","useLimitedRequests","addRequest","className","Fade","in","Alert","variant","onClose","dismissible","Heading","Form","onSubmit","e","preventDefault","data","emailjs","send","then","result","console","log","text","error","target","reset","Group","controlId","Label","Control","type","placeholder","onChange","value","as","rows","Button","disabled","theme","sitekey","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f367236.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport emailjs from 'emailjs-com';\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport {Form,Button,Alert, Fade} from 'react-bootstrap';\n\nfunction App() {\n\n  const useLimitedRequests = function(){\n    const limit = 5;\n    const timePeriod = 240 * 1000;\n    const [ requests, setRequests ] = useState([]);\n\n    return [\n        requests,\n        function(){\n            const now = Date.now();\n\n            if( requests.length > 0 && (requests[0] < now - timePeriod) ){\n                setRequests( requests.slice(1) );\n            }\n\n            if( requests.length < limit ){\n                setRequests([ ...requests, now ]);\n                return now;\n            }\n\n            return 0;\n        }\n    ];\n  };\n\n\n  const [response, setResponse] = useState(false);\n  const [failed, setFailed] = useState(false);\n  const [sendingForm, setSendingForm] = useState(false);\n  const [captchaKey, setCaptchaKey] = useState(null);\n\n  const [name, setName] = useState(null);\n  const [email, setEmail] = useState(null);\n  const [message, setMessage] = useState(null);\n\n  const [,addRequest] = useLimitedRequests();\n\n  function CaptchaCheck(value) {\n    setCaptchaKey(value);\n  }\n\n  const sendEmail = (e) => {\n    e.preventDefault();\n    setSendingForm(true);\n\n    const data = {\n      name: name,\n      email: email,\n      message: message,\n      \"g-recaptcha-response\": captchaKey\n    };\n\n    try {\n      if( addRequest() > 0 ) {\n        emailjs.send('service_l89he0s', 'template_l8t0oid', data, 'user_yvdLAydZ45L4hplgp5nK4')\n        .then((result) => {\n            console.log(result.text);\n            setSendingForm(false);\n        }, (error) => {\n            console.log(error.text);\n            setSendingForm(false);\n            setFailed(true);\n        });\n      }else {\n        setFailed(true);\n      }\n    } catch (error) {\n      console.log(error.text);\n      setSendingForm(false);\n      setFailed(true);\n    }\n    \n    e.target.reset();\n    setResponse(true);\n  };\n\n  return (\n    <div>\n\n      <h1 className=\"mb-3 text-center mt-5\">Welcome back!</h1>\n\n      {\n        response ?\n        <Fade in={response}>\n        {\n          !failed ? \n          <Alert className=\"mb-3 mx-5 bg-success d-flex justify-content-center\" variant=\"sucsses\" onClose={() => setResponse(false)} dismissible>\n            <Alert.Heading>Email sent! Check your email for a prise.</Alert.Heading>\n          </Alert> :\n          <Alert className=\"mb-3 mx-5 bg-danger d-flex justify-content-center text-white text-center\" variant=\"danger\" onClose={() => setResponse(false)} dismissible>\n            <Alert.Heading>Oh snap! You got an error! Try again later.</Alert.Heading>\n          </Alert> \n        }\n        </Fade> : null\n      }\n      \n      <Form onSubmit={sendEmail} variant=\"dark\">\n        <Form.Group className=\"mb-3\" controlId=\"name\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"Name\" onChange={e => setName(e.target.value)}/>\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"email\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={e => setEmail(e.target.value)}/>\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"message\">\n          <Form.Label>Message</Form.Label>\n          <Form.Control as=\"textarea\" placeholder=\"Message\" rows={3} onChange={e => setMessage(e.target.value)}/>\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\" disabled={sendingForm || captchaKey == null || email == null || email === ''}>\n          {sendingForm ? \"Sending...\" : \"Send\"}\n        </Button>\n      </Form>\n      <ReCAPTCHA\n          className=\"mb-3 d-flex justify-content-center\"\n          theme=\"dark\"\n          sitekey=\"6LdMAWMdAAAAAIDRlq0y92zVhFD5dThwIPwZyiMd\"\n          onChange={CaptchaCheck}\n        />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}